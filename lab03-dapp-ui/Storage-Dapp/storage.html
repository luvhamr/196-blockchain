<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Simple Storage DApp (Ganache RPC)</title>
  <style>
    body { font: 16px system-ui, sans-serif; padding: 2rem; }
    #log { background:#111; color:#eee; padding:1rem; border-radius:8px; height:200px; overflow:auto; white-space:pre; }
    button { padding:.6rem 1rem; border-radius:10px; border:1px solid #333; background:#111; color:#fff; cursor:pointer; }
    input { padding:.5rem .6rem; border-radius:8px; border:1px solid #444; background:#fff; color:#111; }
    .mono { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace; }
  </style>
</head>
<body>
  <h1>Simple Storage DApp</h1>

  <section>
    <!-- Repurposed button: init direct RPC instead of MetaMask -->
    <button id="connectBtn">Init RPC (Ganache)</button>
    <div class="mono" style="margin-top:.6rem">
      <div><b>Default From (Account):</b> <span id="account">-</span></div>
      <div><b>ChainId:</b> <span id="network">-</span></div>
    </div>
    <p style="margin:.6rem 0 0 .1rem; color:#555">
      Make sure <code>ganache-cli</code> is running at <code>http://127.0.0.1:8545</code>.
    </p>
  </section>

  <hr style="margin:1.2rem 0" />

  <section>
    <div><b>Contract address</b></div>
    <input id="contractAddress" class="mono" placeholder="0x..." style="width:420px" />
    <button id="initBtn">Load Contract</button>
    <div class="mono">Status: <span id="contractStatus">Not loaded</span></div>
  </section>

  <section style="margin-top:1rem">
    <input id="storeInput" type="number" placeholder="number" />
    <button id="storeBtn">store()</button>
    <button id="retrieveBtn">retrieve()</button>
    <div class="mono" style="margin-top:.4rem">Current value: <span id="currentValue">-</span></div>
  </section>

  <h3 style="margin-top:1.2rem">Log</h3>
  <div id="log"></div>

  <!-- IMPORTANT: classic script + cache-buster -->
  <script src="./app-storage.js?v=ganache-only" defer></script>
</body>
</html>
